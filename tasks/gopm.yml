---

- name: "Go-Lang | Define list of package directories"
  set_fact:
    go_package_locations:
    - "{{ go_location }}/bin/bin"
    - "{{ go_location }}/bin/pkg"
    - "{{ go_location }}/bin/src"
  when: go_reget == true

- name: "Go-Lang | Remove installed workspace packages"
  become: yes
  become_user: "{{ fubarhouse_user }}"
  file:
    path: "{{ item }}"
    state: absent
  with_items: "{{ go_package_locations }}"
  ignore_errors: yes
  when:
    - go_reget == true
    - go_package_locations is defined

- name: "GoPM | Include tasks for static install"
  include: "gopm-static.yml"
  when: go_install_type == "static"

- name: "GoPM | Include tasks for source install"
  include: "gopm-source.yml"
  when: go_install_type == 'source'

- name: "GoPM | Include tasks for version-specific install"
  include: "gopm-version.yml"
  when: go_install_type == 'gvm'